text = '''
######..#
.##....#.
.....##.#
.....##.#
.##..#.#.
######..#
#..#..###
.##..#.##
#####.#.#
#..#.##..
.....###.
#####....
....##.#.

##..###.###..
##.#.#..##..#
..#.#...#.#.#
######.#.####
##..#.##....#
##.##.#..#.#.
#####....#.#.
###.########.
#######..#.##
..####..##..#
......#.###..
......#.###..
..####..#...#

....#....##..##..
##.#.....#....#..
....##...#.##.#..
..##..#####..####
###..##..######..
.....##.#.#..#.#.
.#.#####.##..##.#
###.###...####...
....####.#....#.#

#.##.#.####.#
.#..#..#..#..
.####.#....#.
#....#......#
.#..#.#....#.
.##.#.######.
#....########
#....##....##
########..###
.#..#..####..
.#..#..####..
..##....##...
.####...##...
.#..#.##..##.
##..#########

#.##.#.##
#....##..
.......##
#....##..
#....####
#.####.##
.####.###

.###.####
.##.##..#
.###.####
#....#..#
....#....
##.##....
##.###..#
#..#..##.
.#...#..#
....#....
##.######
...###.##
#.###....
##.#.####
##.#.####

......##.##
####..###..
.##....#.#.
######.####
######.####
.##....#.#.
####..###..
......##.##
.##.##.##.#
...##..###.
....###.##.
#..#......#
....##.....
#####.#.#..
.....#..##.

###.....###..##
#.#..#..##...##
..##.#...###.##
..##.#...##..##
#.#..#..##...##
###.....###..##
.##.#...#.#...#
##...#####.###.
##.#...###....#
#.####..#.#.#..
#.##..###.###..
#.##..###.###..
#.####..#.#.#..
##.#...###....#
##...#####.###.

..###..#....#..
##.....#.##.#..
###....#.##.#..
###.#..#....#..
..##.#........#
####...........
..##...##..##..
##...#.######.#
..#.#.########.
##....#.####.#.
##.#.####...###
##...#.#....#.#
##...##.#..#.##

##..#..#..##..#
.###....###.#..
.#...##...#..#.
..##.##.##.....
.#.#.##.#.#.#.#
.....#........#
.#..####..#.##.
####.##.####.##
####.##.####.##

.#.#..####.
#.####.##.#
..#..######
..#...####.
..#...####.
..#..######
#.####.##.#
.#.#..####.
#..#.##..##
#.#.#######
###........
....##....#
..#.###..##
...#..#.##.
.#.#.##..##

##...#...##.#.#.#
##.#.......#.#.##
##.#.......#.#.##
##.......##.#.#.#
###....#.##.#...#
.#.#.#..#.###.##.
.#...#..##.......
#..#.#....#.##.##
.#.##...###.#..##
.##.#.#.#.#...###
#...##..#...#.##.
.#.####...#..#.##
.#.####...#..#.##
#...##..#...#.##.
.##.#.#.#.#...###

.....#.##..##.#
.....#.##..##.#
.##.##.##..##..
....#..#....#..
#..#.###....###
##..#.##.##.##.
#...##........#
.#..#.###..###.
..##...#....#..
#....#.##..##.#
#.##..###..###.

.##.....#..#.
.##..#.######
#.#...#......
.###..#......
..#..#..#..#.
..#..#..#..#.
.###.##......
#.#...#......
.##..#.######
.##.....#..#.
........####.
.####.##....#
.#.##.#......
######..####.
.#.##..##..##
....##.#....#
.###.#.######

###.#.####.#.
###.#.####.#.
...#.#.##.#.#
###...#..#...
.#.#.#....#.#
##..#..#...#.
..###..##..##
####..#..#..#
#...#......#.
..##..####..#
.#..########.
.#.#.#....#.#
#..####..####
.#...........
#.#.#.#..#.#.

#.#....
#.#....
#..#..#
..##..#
#......
#......
..#.##.
#.#.##.
#.##...
..#.##.
#.#.##.
#.#####
#.#####
.#.####
##..##.

.##.....###
#..###.##.#
.##..#.##..
.....#.#.#.
#..##.#..##
#..##.#..##
.....#.#.#.
.##..#.##..
#..###.##.#
.##..#..###
#..##..##.#
####...##.#
#..#.#.#.#.
........#.#
....####...
....#.###.#
.##.#.#..#.

###.######.
...##.##.##
.###.#..#.#
....######.
.#.########
#####....##
..##..##..#
#.##..##..#
##....##...
.#..#......
#####....##
##....##...
.##.######.
###..####..
....#.##.#.
....#.##.#.
###..####..

#.####..####.##..
##..##..##..##.##
.#....##....###..
###...##...###.##
#.#........#.#.##
.#.##....##.#.###
.#..........#....
.#..........#.###
##.##.##.##.#####
##..........#####
.#..........#.###
.#####..#####....
#..##....##..##..

#.##.#.####
.###.######
#..#....##.
#...#######
##.##..#..#
...#.######
#.##.......
.#.........
##.####.##.
#..####.##.
.#.........
#.##.......
...#.######
##.##..#..#
#...#######
#..#....##.
.###.######

.#...###...
.....##.###
..#..##.#..
####.......
..##..#.##.
######.###.
########..#
########..#
######.###.
..##..#.##.
####.......

##....###..
###..####..
..#..#..##.
...##...#.#
.#.##.#.##.
##.##.####.
########.##
..#..#..##.
########.#.
##.##.##...
...##...###
#########..
...##....##

#.....###....
#.##.####.##.
#..#..##..#..
##...#..#...#
.....#..#....
####..##..###
..##......##.
##..######..#
##.##....##.#
##.##....##.#
##..######..#

.####.##.#.#..##.
.....######..#..#
..#..######..#..#
.####.##.#.#..##.
######..##...####
#..##.#..#.######
..#....#.##......
.##.#..###...####
.....#..#..##....
##.#..##.###..##.
#..##.#.##.#.#..#
..##.#.##...##..#
####.......#.....
.###.####...##..#
#..#..#.#####....
###.#.#..###.....
####...######....

#####.###...#
##..#.#.###..
#..#..##..#.#
##...##.#..#.
#####....##.#
.....##...###
#####.#.#.###
#####.#.#.###
.....##...###

..#####
.#.....
.######
#..####
.######
..#....
###....
###....
##.####
..#.##.
.#.####
.######
.#.####
#.#####
##.....

####....#...#.###
.#..#..####.##..#
.##.##.##..#####.
......##.##.#####
###.#.##.#####.##
.####....#...####
.##.#....#...####
###.#.##.#####.##
......##.##.#####
.##.##.##..#####.
.#..#..####.##..#
####....#...#.###
####....#...#.###

###...#..#...##
...#......#.#..
....#......#...
##..#.####.#..#
##..#.#..#.#..#
##.#.######.#.#
....#.####.#...
..##.#.##.#.##.
##...######...#
###.#..##..#.##
..#..######..#.

.##..##..##..####
####.##.####.....
.###.##.###..####
..#.#..#.#...####
.............#..#
...######...#.##.
..#.#..#.#..####.

##.##.#.#
###.#.#.#
###.#.#.#
##.####.#
...#####.
...######
...#..###
..######.
##...##.#
##...#..#
#####.#..

#.###..
####.##
.#.##..
....###
.##....
.##....
.#..###

......#....#.....
#..#.########.#..
.##.##......##.##
....#.######.#.#.
.#..##########..#
#.#..###..###..#.
####..######..###
#.##..#.##.#..##.
#..#..######..#..
.#.#..##..##..#.#
#.#...#.##.#...#.
.#.##.#.##.#.##.#
.#.##.#.##.#.##.#

###..##
#....##
###..#.
##.....
..#..##
#....##
#...###
###.###
..##.##
...##..
...##..
..##...
##.#...
..#....
.##.###
###....
###....

####.###..#
.......###.
......####.
####.###..#
###..#.####
###.#....##
..#.#.....#
###.##.#.##
##.###.###.
####.##.#..
##..#.#.#..

#..##.....##.
.......#..#.#
.##..#...#.##
.##..#...#.##
.......#..#.#
#..##.....##.
.##..#.######
######.##....
####...##....
....#.##.#.##
#.....####...
.##..###.....
#####..#....#

#..####..#...
####..#####..
###....###.#.
..#....#..#..
.#.#..#.#.###
.###..###....
###########..
#...##...#.##
...........##
..#....#...##
#.#....#.####

.##...#.#
.##..#...
.##.###..
.##..#.#.
.##....##
#####.##.
.##...###
#..#..#.#
#..#..#.#
.##...###
########.
.##....##
.##..#.#.
.##.###..
.##..#...

.##.#....###..#
.##.#....###..#
..#######......
.######.#.##.##
..#.#..#...###.
##....#.#.###..
##....#.#.###..
..#.#..#...###.
.######.#.##.#.
..#######......
.##.#....###..#

.##..####..
.##..####..
###...##...
...###..###
..#.#.##.#.
...######.#
...#..##..#
...#.#..#.#
#.#.##..##.

##.#.........
#.####..##..#
##.#.########
##.##........
##.##########
#.#..........
.#.#.........
#.###########
.###.#......#
###..........
#.#.#.##..##.
.#....##..##.
#.#...##..##.
.##.##..##..#
.#.#.#..##..#

...####
...####
.#..#..
######.
##.#..#
##.#.##
######.
.#..#..
...####

.....#.
###.##.
##...#.
####.##
####.##
##...#.
###.##.
.....#.
#.##...
###..#.
###.###
....##.
##.#.##

##.#....#
##.#.##.#
...#....#
..#.####.
....####.
##...##..
....####.
####.##..
..#......
##...##..
###.####.
#####..##
###..##..

..##..###
..##.##..
..##.##.#
..##..###
##.....##
.....##..
..##...#.
##.#...#.
##.###..#

.####...##...
..#....#..#..
#####.##..##.
#..#.##.##.##
...##.#.##.#.
####...####..
#.......##...
#..#....##...
####...####..

#.##..#
...####
...####
#.##..#
...##..
###.#..
###..#.
.....##
##.#...
#.#..##
.##...#
.##...#
#.##.##

.##...##.##.##...
.#.####..##..####
.#.####..##..####
.##...##.##.##...
####.##.####.##.#
##.#####....#####
#.###..#....#..##
...##..........##
.#.###.######.###
#.##.####..####.#
..##.....##.....#
.#..#...#..#...#.
#.##...##..##...#
#.#.#.##.##.##.#.
.#..####....####.
#...####.##.###..
...#..#.####.#..#

....#.##..#.#.##.
#..##..#..#.#...#
.##.##.#.#..#.##.
.....#....#.#.##.
####.###....#....
#..#.#.#.#..#....
#..###.##....####
####..#....#.#..#
####.#...###.#..#
#####..#.###.....
####.#####.#.#..#
#####.#.###...##.
####.##..#...####

.......##......
....########...
#####.####.####
##..#.####.#..#
##.##......##.#
....###..###...
...#..#..#..##.

..........###..
#.####.##..#...
#.#..#.##.#...#
.######.###..##
...##...##.####
########..##...
............#..

....#.###.#..
#..#...#...#.
....#.##.####
....#.##.####
#..#...#...#.
....#.###.#..
......##.####
.###.#####.##
####.#####.##
....#.##....#
....##..#..#.
.##.###....#.
.##....####..
#####...#.#..
######.#..###

.##.###
...#...
###.###
.#.....
#.#.#..
####...
..##...
##.#...
#......
.#.##..
#.#.###
..#####
..#####
..#.###
.#.##..

####.#.####
####.#..##.
#...#.##..#
#...#.##..#
####.#..##.
####.#.####
#.#...#....
#.....##..#
#.#.##..##.
.###.#..##.
##...#.....
.###..#....
.####.#.##.
....#...##.
.####....#.

....#####
....#....
####.#..#
.....####
#..######
#..#.....
#####....
###.#####
#####.##.
#..##....
.##.#....
####.####
#..#.####

######..##.#.#.##
#.........####...
###.##.....#.##..
##.#.###..###..##
###..#...#....###
#.#...#.#######..
.#..#.###.#.##...
.##...####.#..###
.##....#....#.#..
.#.##.#..#..#####
##....###......##
...##.######..#..
....#.#..#.######
##...###..##..###
##.#.###..##..###

.....###..###.#..
#####.#...#......
#####.##.#..#....
.##.##.#.###.#.##
......#..###.##..
....#...#.####...
.....####.#.###..
......#.##.##.#..
...##.##....#.#..
#..##.##.###..###
#..#..###.###..##
#..#...#....###..
....#....##.#..##

....#....
##.######
##.#.....
##.#.####
##..#...#
..#.#.##.
......##.
###..####
..##.#..#

..##..#
##.....
...####
...####
##.....
..##..#
#.#.#..
#.##...
#..##.#
####...
####...
#..##.#
#.##...
..#.#..
..##..#

...##.#######
...##.#.#####
#....#..#..##
#..########..
#.##...#...##
.#....#...#..
.#....#...#..
#.##...#...##
#..########..
#....#..#..##
...##.#.#####
...##.#######
.####.....###
######.#.#..#
..#..#.#.####
...#..#..####
..####..###.#

########.
.......##
.####.#..
..##...##
#....#.#.
..##....#
######...
.#..#..##
##..###..
......##.
..##..##.
#.#..##..
.#..#..##
#....##.#
#....##.#

######.####
#.##.######
.#..#.##..#
...#..##..#
######.#..#
.####...##.
.......####
######.#..#
#....##....
.####.#....
......#####
######.####
#....##.##.

.####.###.#
.#..#......
##..#######
#.##.#..###
#######..##
######.###.
##..##...#.
##..##.#.#.
######.###.

.##...##..#.#
#..#.#..#....
.##.##.##..#.
.##..#.#.###.
.....#.#.#...
.##.#.###...#
####..###...#
####..###...#
.##.#.###...#
.....#.#.#...
.##..#.#####.

#.#.#...###
#.....#.#..
###.##.##..
######.####
####.#.#..#
###..##..#.
.###..#.#.#
.###..#.#.#
###.###..#.
####.#.#..#
######.####
###.##.##..
#.....#.#..
#.#.#...###
####...####
####...####
#.#.#...###

###...#...#.##.
.#######.#.####
.#######.#.####
###...#...#.##.
#.#####...#..#.
##..#..##..#..#
#..##.##..##..#

#..#..#..######..
#.#.##.#.#.##.#.#
..##..##...##...#
....##...........
.########.#..#.##
#...##...######..
.#......#.#..#.#.
#.##..##.######.#
....##.....##....
##......##....##.
...####...#..#...
#.#....#.#.##.#.#
..#.##.#........#
#####.####....###
.###..###.#..#.##
##......##....##.
..#.##.#..####..#

##.########
.#..#....#.
####.#..#.#
#.##.#..#.#
.#..#....#.
##.########
#.#..#..#..
#..#..##..#
##...####..
.##########
.#.########
..###.##.##
.#....##...
##...####..
##..#....#.
##..######.
..#.##..##.

.#..#.#.#.###.##.
.#..#.#.#.##..##.
......####....#..
.#..#...##..####.
######.###...####
.#..#..#....#.#.#
......##...#.....
#######.#.#######
.#..#..##..##.##.

.###.#.##......
.......###.##.#
.##..#..#.#..#.
#..##.####.##.#
####.#..###..##
#..##.....####.
#..#...##.#..#.
....#.....#..#.
####..###......

#.#..##.####.
#.#..##.####.
.##..#.#.....
#.###.#..#...
....#.####..#
...#.##..###.
.###..#.#....
..#....#.....
.#.##..#..##.
.#.##..#..##.
..#....#.....
.###..#.#....
...#.##..###.
....#.####..#
#.###.#..#...
.##..#.#.....
..#..##.####.

...######..
####.#..#.#
.#...#..#..
#..###.#...
#..###.#...
.#...#..#..
.###.#..#.#
...######..
..##..#..#.
..##.##.##.
##.#####..#
....#.###.#
#########..
#.#...##...
#.#...##...
#########..
....#.###.#

##....####..###..
########..#.##...
########..#.##...
##....####..###..
........####....#
.#.##.#.##.#..#.#
........##.######
.##...#....#.###.
.######....#.#..#
.#....#.#..###.#.
.##..##...#...##.

###.##.....
#..#.###.##
#..#..##...
#.#..#.##..
.##.###.##.
###....####
.##..#.#...
.##..#.#...
###....####
.##.###.##.
#.#..#.##..
#..#..##...
#..#.###.##
###.##.....
###.##....#

#..#.....#.####.#
####.#.#..#....#.
#####..#.........
#.#####.##..##..#
#..#.#.#...####..
#..#.##....####..
#..#####.###..###
.##.#....#..##..#
#..##.#.##.#..#.#

##..#..#.##.##.##
##..#..#.##..#.##
.#####..##.##..##
..#.###.###..#..#
..#.###.###..#..#
.#####..##.##..##
##..#..#.##..#.##
##..#..#.##.##.##
#...###..#.##...#
#........#..#.##.
#...#.#...#.##...

#....##.#..
#.##.#..###
.####.##..#
.####.##..#
#.##.#...##
#....##.#..
##..##.#..#

.#.#..#.#.#.#..##
.##....##..#.####
####..####..#.#..
.##.##.##.#...#.#
..######..##.....
..######..##..#..
.##.##.##.#...#.#

.####.#
.####..
.####.#
#....#.
#.##.##
##..###
.####..

#..#.#..###...##.
#..#.#..###...##.
#.#.....##.#.##.#
#..#####...#.#.##
##....###......##
##..###.#.###..##
.#....###...#..##
#.###.#...#.....#
##.....#...##.###
......#..########
##.#############.
.#.#.##.....####.
###.##.###.###..#
####.###..#.#.#..
#.##.#......#.##.
#####.....#..#..#
#####..#..#..#..#

.##.####.##....##
####.##.######...
#.#..##..#.#...##
##.#....#..#.#...
...#.##.#....#...
#..........#.....
#.##....##.#..###
#..#.##.#..##.###
............#.###
...#.##.#...#..##
#.##.##.##.#.#...
...#.##.#........
...######....#...
#.#.####.#.##.#..
##.#....#.####.##
...#.##.#....####
.#.#....#.#...###

...##.##..####.
..##.#.#.#.####
##.#.#.###.##..
......#.#####..
..##..#.####.##
..##...#.#.#...
..#.#.#...#....
#####.##.##.#..
##.###.##......
..#..##..#.##..
....#....##.#..
...#.#.#.#.####
##.#.##.#.##.##
###..#....###..
..##.#..#.#..##
..##..#.##..###
..#..#.##.###..

.....##..#.#.##.#
#..####.#.##..##.
..##..##.#......#
.##.###.###....##
#..#.#..#........
..##.##..###..###
.##....#.#..##..#
##.#.##..........
##.#.##..........

#..##....
#....#.#.
##.###.##
.####.###
#.#######
..#.###..
..#.###..

.#.###.#...
#.#.#.#..##
###..#..#..
#.#..#..#..
#.#.#.#..##
.#.###.#...
#......####

#.#..#..#..#.##
.#.########.#..
.#...##.#...#..
.#.#......#.#..
###...##...####
.#..........#..
...#......#....

...#.#####.#.
.#.#.....#..#
#.##..#.#.###
#.##..#.#.###
.#.##....#..#
...#.#####.#.
######......#
###.####.####
..##.###.###.
###......##..
...##.#....#.
...##.#....#.
###......##..
..##.###.###.
###.####.####
######......#
...#.#####.#.

##.#....#.#
.#.##..##.#
..###...##.
#..######..
#...#..#...
#..#....#..
.###.##.###
.####..####
#.##.##.##.
#..######..
...#.##.#..
...#.##.#..
#..######..
#.##.##.##.
.####..####
.###.##.###
#..#....#..

####.#.####.####.
#.#.#..######..##
.##.##.....#....#
.##.####...######
...#..#.#.###..##
.####.###.###..##
#.##..#.#....##..
#....##.#..######
#....###..##.##.#
#....####.##.##.#
#....##.#..######
#.##..#.#....##..
.####.###.###..##
...#..#.#.###..##
.##.####...######
.##.##.....#....#
#.#.#..######..##

.#.####.#.#....
.#.####.#.#....
.##......##...#
.#...#....#.#..
###..#.#..#.#.#
####....#.##..#
.#.#..##.#.##.#
.##....###..#.#
..##.##.##...#.
.#.#.....#....#
.#.#.....#....#
..##.##.##...#.
.##....###..#.#
.#.#..##.#.##.#
####....#.#...#

....#..
#.##..#
#####..
.##.##.
####.##
####.##
#..###.
#..##..
#####..
.....##
.....##

##.#....#..#...#.
####..#..#####...
####..#..#####...
##.#....#..#...#.
####.##.#.#.#...#
#####....##.####.
.#####..###.#..#.
######.##...#.#..
...###.....#.####
###.##..##..####.
..#.##.......####

##.#..#.#.#
##.##.#.#.#
####.#..#.#
..##.####..
##.####.#..
....##..#.#
..##.###.#.
#####.###..
######....#
##.#####.##
..#.##.#.#.

.##...#
....###
####.##
####.##
....###
.##...#
.....#.
#..#...
.##.#..
...##.#
....#..

#######..####
####.##..#...
#..##..#...#.
.#####....###
.##.....##...
....#.###..##
#..#..##..##.
........###.#
........###.#

####...##
###..#...
###.##...
####...##
#.#..#..#
#.###....
....##.##
.#...####
#.#..#..#
###....##
.....##..
.....##..
###....##

#.#...#..#...
...##.####.##
...##.####.##
#.....#..#...
.##..##..##..
...#...##...#
#...#.####.#.
##...#.##.#..
#..##......##
#.##...##...#
##....####...

#..###.##
#..#.#.##
..##.###.
..##.#.##
##...##.#
##...##.#
..##.#.##
..##.###.
#..#.#.##
#..###.##
.###..#.#

...#.###....#
..#.###.####.
.#.#..#######
.#####.#.##..
#.#.#.#..##..
##.###.......
##.###.......

#.##..##.##.#
...####......
#..####..##..
##.####.####.
####..#######
##..##..####.
##..##..####.
#..#..#..##..
..##..##....#
..#....#....#
...#..#......
.##..#.##..##
.#..##..#..#.
#.#.##.#.##.#
.########..##

##....##.####
.#...##.###..
.#.#.....#.#.
.##..#.#.#.##
.....#.##.#.#
.....#.##.#.#
.##..#.#.#.##
.#.##....#.#.
.#...##.###..
##....##.####
.############
..####.###.##
..####.###.##
.############
##....##.####
'''

text_test = '''
#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#
'''


def read(text):
    res = []
    cur_pattern = []
    for line in text.split('\n'):
        if not line:
            if len(cur_pattern) > 0:
                res.append(cur_pattern)
                cur_pattern = []
            continue

        cur_pattern.append(line)

    if len(cur_pattern) > 0:
        res.append(cur_pattern)

    return res


print(read(text_test))


def horizontal_reflection_row(p):
    res = 0

    size = len(p)
    for i, (a, b) in enumerate(zip(p, p[1:])):
        if a == b:
            # i == i+1
            # i-1 == i+2
            # ...
            reflects = True
            for j in range(min(i, size - i - 2)):
                if p[i - j - 1] != p[i + j + 2]:
                    reflects = False
                    break

            if reflects:
                res += i + 1

    # for line in p:
    #     print(line)
    # print(res)

    return res


def diff(a, b):
    return sum(1 for x, y in zip(a, b) if x != y)


def horizontal_reflection_row_with_smudge(p):
    res = 0

    size = len(p)
    for i, (a, b) in enumerate(zip(p, p[1:])):
        d = 0
        for j in range(min(i+1, size - i - 1)):
            d += diff(p[i - j], p[i + j + 1])

        if d == 1:
            res += i + 1
        #print(i, d)

    # for line in p:
    #     print(line)
    # print(res)

    return res


def transpose(p):
    return tuple(zip(*p))


def solve(text):
    patterns = read(text)

    res = 0

    for p in patterns:
        r = horizontal_reflection_row(p)
        res += r * 100

        # to search for vertical reflection, transpose and search horizontal reflection
        p = transpose(p)
        r = horizontal_reflection_row(p)
        res += r

    print(res)


#solve(text)


def solve2(text):
    patterns = read(text)

    res = 0

    for p in patterns:
        r = horizontal_reflection_row_with_smudge(p)
        res += r * 100

        # to search for vertical reflection, transpose and search horizontal reflection
        p = transpose(p)
        r = horizontal_reflection_row_with_smudge(p)
        res += r

    print(res)


solve2(text)
